package a4jedi;

public class GammaCorrect implements PixelTransformation {
	private double gamma;

	public GammaCorrect(double gamma) {
		this.gamma = gamma;
	}

	@Override
	public Pixel transform(Pixel p) {
		if (p.getIntensity() == p.getBlue() && p.getIntensity() == p.getGreen() && p.getIntensity() == p.getRed()) {
			Pixel a = new GrayPixel(Math.pow(p.getIntensity(), 1 / gamma));
			return a;
		} else {
			Pixel a = new ColorPixel(Math.pow(p.getRed(), 1 / gamma), Math.pow(p.getGreen(), 1 / gamma),
					Math.pow(p.getBlue(), 1 / gamma));
			return a;
		}
	}

}
